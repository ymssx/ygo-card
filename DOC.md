# ygo-card æ–‡æ¡£

<a href="https://www.npmjs.com/package/ygo-card">
  <img src="https://img.shields.io/npm/v/ygo-card"/>
</a>

è¿™æ˜¯ä¸€ä¸ªæ¸¸æˆç‹å¡ç‰‡æ¸²æŸ“å·¥å…·ï¼Œä½ åªéœ€è¦åœ¨ä½ çš„ç½‘ç«™å¼•å…¥ygo-cardï¼Œå°±å¯ä»¥è½»æ¾åœ°æ¸²æŸ“å‡ºæ ‡å‡†çš„æ¸¸æˆç‹å¡å›¾ï¼

<a href="https://github.com/ymssx/ygo-card">github</a> | 
<a href="https://gitee.com/ymssx/cardjs">gitee</a>

## ä¸ºä»€ä¹ˆä½¿ç”¨ygo-card

ä½ çš„ç½‘ç«™éœ€è¦å±•ç¤ºæ¸¸æˆç‹å¡å›¾ï¼Œä½†æ˜¯ç½‘ä¸Šçš„å›¾ç‰‡èµ„æºè´¨é‡å‚å·®ä¸é½ï¼Ÿygo-cardå¯ä»¥æ–¹ä¾¿çš„æ¸²æŸ“å‡ºæ ‡å‡†ã€é«˜æ¸…çš„æ¸¸æˆç‹å¡å›¾ã€‚

* å“åº”å¼ã€‚æˆ‘ä»¬ä¼šè‡ªåŠ¨å“åº”æ•°æ®çš„å˜åŠ¨ï¼ŒåŒæ—¶æ›´æ–°å¡å›¾ï¼Œè¿™åœ¨ä¸è¡¨å•äº¤äº’åœºæ™¯ååˆ†æœ‰ç”¨ã€‚

* äº¤äº’å¼ã€‚ä½ å¯ä»¥å®ç°å„ç§äº¤äº’åŠ¨æ•ˆï¼Œæ¯”å¦‚SRé¢é—ªç‰¹æ•ˆã€çƒ«é‡‘å­—ç­‰ã€‚åŒæ—¶å…è®¸å®æ—¶ä¿®æ”¹å¡ç‰‡ä¿¡æ¯ã€è‡ªç”±å®šåˆ¶å¡ç‰‡ã€‚

* é«˜è´¨é‡ã€‚ygo-cardç”Ÿæˆçš„å¡å›¾è¶³å¤Ÿæ¸…æ™°ï¼Œå¯ä»¥ç›´æ¥ç”¨äºæ‰“å°ã€‚æˆ‘ä»¬çš„å¡å›¾æ’ç‰ˆä¼šä¸¥æ ¼å’Œå®˜æ–¹ä¿æŒä¸€è‡´ã€‚

<br/>

## ä½œå“

- <a href="https://ymssx.gitee.io/ygo">æ¸¸æˆç‹åœ¨çº¿åˆ¶å¡å™¨<a>

- <a href="https://github.com/msk86/ygo-card-print">ä¸€æ¬¡æ€§æ‰“å°å¡ç»„</a>

æ¬¢è¿å‘æˆ‘è‡ªèä½ çš„åŸºäºygo-cardçš„ä½œå“ï¼Œé‚®ç®±ï¼šymssx@qq.com

<div align=left>
  <img src="https://github.com/ymssx/ygo-card/blob/master/demo/é»‘é­”æœ¯å°‘å¥³.jpg" width="16%" max-width="150" /><img src="https://github.com/ymssx/ygo-card/blob/master/demo/é»‘é­”æœ¯å¸ˆ.jpg" width="16%" max-width="150" /><img src="https://github.com/ymssx/ygo-card/blob/master/demo/æ­»è€…è‹ç”Ÿ.jpg" width="16%" max-width="150" /><img src="https://github.com/ymssx/ygo-card/blob/master/demo/ç¥åœ£é˜²æŠ¤ç½© -åå°„é•œåŠ›-.jpg" width="16%" max-width="150" /><img src="https://github.com/ymssx/ygo-card/blob/master/demo/å…ƒç´ è‹±é›„ ç¥Â·æ–°å®‡ä¾ .jpg" width="16%" max-width="150" /><img src="https://github.com/ymssx/ygo-card/blob/master/demo/æµå¤©ç±»æ˜Ÿé¾™.jpg" width="16%" max-width="150" />
</div>

<br/>

## å®‰è£…

* ### npmå®‰è£…

```sh
$ npm i ygo-card -D --save
```

æˆ–è€…ä½¿ç”¨yarn

```sh
$ yarn add ygo-card
```

åœ¨é¡¹ç›®ä¸­å¼•ç”¨

```js
// commonjs
const { Card } = require('ygo-card');
// es module
import { Card } from 'ygo-card';
```


**ä½ å¯ä»¥æ‰‹åŠ¨å¤åˆ¶node_modules/ygo-card/dist/moldæ–‡ä»¶å¤¹åˆ°ä½ çš„é™æ€èµ„æºå¤„ï¼Œå¹¶åœ¨åç»­æŒ‡å®šmoldçš„è·¯å¾„**

* ### æ‰‹åŠ¨å¼•å…¥

```shell
$ git clone https://github.com/ymssx/ygo-card
```

å°†`dist`æ–‡ä»¶å¤¹çš„å†…å®¹æ”¾åœ¨åˆé€‚çš„ä½ç½®ï¼Œä½¿ç”¨`<script>`å¼•å…¥index.js

``` html
<canvas id="card"></canvas>
...
<script src="xxx/index.js"></script>
```

#### ç›®å½•ç»“æ„

* `mold/`

ä¿å­˜äº†æˆ‘ä»¬éœ€è¦çš„æ ‡å‡†æ¨¡æ¿ç´ æã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ä½ çš„æ¨¡æ¿

* `config/`

è¿™é‡Œè‡ªå¸¦äº†å‡ ä»½å¸¸ç”¨çš„é…ç½®æ–‡ä»¶

* `index.js`

æ‰‹åŠ¨å¼•å…¥å®ƒå°±å¯ä»¥ä½¿ç”¨Cardå•¦

<br/>

## åŸºæœ¬ä½¿ç”¨

ä¼ å…¥ä¸€ä¸ªå¡ç‰‡æ•°æ®å’Œcanvaså…ƒç´ ï¼Œç„¶åä½¿ç”¨renderæ–¹æ³•å°±å¯ä»¥æ¸²æŸ“å•¦

```javascript
// canvasçš„domèŠ‚ç‚¹
const canvas = document.getElementById('card');
// å¡ç‰‡æ•°æ®çš„æè¿°
const data = { 
  name: 'é’çœ¼çš„ç™½é¾',
  _id: '89631139',
  type: 'monster',
  type2: 'tc',
  type3: '',
  type4: '',
  attack: 3000,
  defend: 2500,
  level: 8,
  desc: 'ä»¥é«˜æ”»æ“ŠåŠ›è‘—ç¨±çš„å‚³èªªä¹‹é¾ã€‚ä»»ä½•å°æ‰‹éƒ½èƒ½è¢«ç²‰ç¢ï¼Œå…¶ç ´å£åŠ›ä¸å¯ä¼°é‡ã€‚',
  race: 'é¾æ—',
  attribute: 'light' 
}

const card = new Card({ data, canvas, size: [400, 584] });
// renderä¹‹åcanvasä¼šè¢«æ¸²æŸ“å‡ºå¡å›¾
card.render();
```

æ­å–œä½ ï¼Œä¸€å¼ é’çœ¼ç™½é¾™å°±æ¸²æŸ“å‡ºæ¥å•¦

**æ³¨æ„ï¼Œå½“moldæ–‡ä»¶å¤¹ä¸åœ¨æ ¹ç›®å½•æ—¶ï¼Œä½ å¯èƒ½éœ€è¦åœ¨moldPathæ‰‹åŠ¨æŒ‡å®šmoldæ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚æˆ–è€…ç›´æ¥è®¾ç½® ```moldPath: './node_modules/ygo-card/dist/mold'```**

```javascript
const card = new Card({ data, canvas, moldPath: './assets/mold' });
```

  *äº‹å®ä¸Šï¼Œä¸€ä¸ªå®Œæ•´çš„ä¸­æ–‡/æ—¥æ–‡å­—ä½“å¯èƒ½éœ€è¦è€—è´¹å¤§é‡çš„åŠ è½½æ—¶é—´ï¼Œå¯¼è‡´ç½‘ç«™åˆå§‹åŠ è½½å˜æ…¢ã€‚æ‰€ä»¥æˆ‘å¼ºçƒˆæ¨èä½¿ç”¨font-spideræˆ–è€…fontminæ ¹æ®éœ€è¦è¿›è¡Œå­—ä½“å‹ç¼©ã€‚*

<br/>

### data: CardData -- å¡ç‰‡ä¿¡æ¯ï¼ŒåŒ…æ‹¬åå­—ã€å¯†ç ã€æ•ˆæœç­‰

```ts
interface CardData {
  name: string;                          // card name
  _id: string;                           // card id
  type: 'monster' | 'spell' | 'trap';    // first type
  type2: type;                           // secend type è§ä¸‹é¢æ³¨é‡Šâ‘ 
  type3: type;                           // third type
  type4: type;                           // fourth type
  desc: string;                          // card describe
  attribute?: 'light' | 'dark' | 'fire' | 'water' | 'wind' | 'earth' | 'divine';
                                         // monster attribute
  race?: string;                         // monster race
  attack?: number;                       // monster attack
  defend?: number;                       // monster defend
  level?: number;                        // monster level

  link?: boolean[];                      // link monster arrows
  lb_desc?: string;                      // pendulum describe
  lb_number?: number;                    // pendulum number
}
```

| tc | xg | ys | rh | tt | cl | lb | lj | ec | tz | tm | kt | lh | fz | ts | zb | sg | cd | fj | yx |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| é€šå¸¸  | æ•ˆæœ | å„€å¼ | èåˆ | åŒèª¿ | è¶…é‡ | éˆæ“º | é€£æ¥ | äºŒé‡ | èª¿æ•´ | åŒç›Ÿ | å¡é€š | éˆé­‚ | åè½‰ | ç‰¹æ®Šå¬å–š | è£å‚™ | é€Ÿæ”» | å ´åœ° | åæ“Š | æ°¸çºŒ |

#### â‘  å…³äºtype2 | type3 | type4
* å¦‚æœä½ çš„é¡¹ç›®åœ¨ä½¿ç”¨Typescriptï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„è‡ªåŠ¨è¡¥å…¨æç¤ºä¼šè‡ªåŠ¨å‘Šè¯‰ä½ æ€ä¹ˆå¡«å†™è¿™å‡ é¡¹ã€‚
* æè¿°å¡ç‰‡ç±»å‹æ—¶ï¼Œè¯·ä¸€å®šåœ¨type2ä¸­åæ˜ å‡ºå®ƒæ˜¯ä¸€å¼ ä»€ä¹ˆé¢œè‰²çš„å¡ç‰‡ï¼Œå¯é€‰ä¸º tcé€šå¸¸ã€xgæ•ˆæœã€rhèåˆã€ysä»ªå¼ã€clè¶…é‡ã€ttåŒè°ƒç­‰
* type3 - type4å¯æè¿°ä¸ºtzè°ƒæ•´ã€ecäºŒé‡ã€fzåè½¬ã€tcé€šå¸¸ã€xgæ•ˆæœç­‰
* é»˜è®¤ä½¿ç”¨æ‹¼éŸ³é¦–å­—æ¯æè¿°ï¼Œè¶…è¿‡ä¸¤ä¸ªå­—çš„æŒ‰å‰ä¸¤ä¸ªå­—å¤„ç†ï¼Œå¦‚â€œç‰¹æ®Šå¬å”¤â€ä¸ºâ€œtsâ€
* TCGç©å®¶ä¹Ÿå¯ä»¥ä½¿ç”¨è‹±æ–‡ï¼Œå¦‚ normalã€effectã€fusionã€ritualã€xyzã€synchroç­‰ï¼ˆè¯·ä½¿ç”¨å°å†™ï¼‰ï¼Œæˆ‘ä»¬ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºæ‹¼éŸ³

ä»¥ä¸‹ä¸¤ç§æè¿°æ˜¯ç­‰ä»·çš„ï¼Œè¯·æ ¹æ®è‡ªå·±å–œå¥½é€‰æ‹©

```javascript
const data = { 
  name: 'å¹½é¬¼å…”',
  type: 'monster',
  type2: 'xg', // æ•ˆæœ
  type3: 'tz', // è°ƒæ•´
  type4: '',
}

const data = { 
  name: 'å¹½é¬¼å…”',
  type: 'monster',
  type2: 'effect', // æ•ˆæœ
  type3: 'tuner', // è°ƒæ•´
  type4: '',
}
```

<br/>

## ğŸ æ¸¸æˆç‹å¡å›¾åº“

ä¸çŸ¥é“å»å“ªé‡Œæ‰¾å¡å›¾ï¼Ÿ

è¿™é‡Œæ”¶å½•äº†ç»å¤§å¤šæ•°æ¸¸æˆç‹å¡å›¾ï¼Œä¸å®šæœŸæ›´æ–°ã€‚

<a href="https://gitee.com/ymssx/pics">æ¸¸æˆç‹å¡å›¾åº“</a>


<a href="http://ocg.wiki/#21844576" target="blank"><img src="https://gitee.com/ymssx/pics/raw/master/500/21844576.jpg" height="120" /></a>
<a href="http://ocg.wiki/#58932615" target="blank"><img src="https://gitee.com/ymssx/pics/raw/master/500/58932615.jpg" height="120" /></a>
<a href="http://ocg.wiki/#84327329" target="blank"><img src="https://gitee.com/ymssx/pics/raw/master/500/84327329.jpg" height="120" /></a>
<a href="http://ocg.wiki/#20721928" target="blank"><img src="https://gitee.com/ymssx/pics/raw/master/500/20721928.jpg" height="120" /></a>
<a href="http://ocg.wiki/#79979666" target="blank"><img src="https://gitee.com/ymssx/pics/raw/master/500/79979666.jpg" height="120" /></a>

<br/>
 
## è¯¦ç»†é…ç½®
 
```typescript
const Card = function ({
  data: CardData,                         // å¡ç‰‡æ•°æ®
  canvas: HTMLElement,                    // canvaså¯¹è±¡
  size: number[],                         // ç»˜åˆ¶å°ºå¯¸ï¼Œ[å®½, é«˜]
  moldPath: string = './mold',            // æ¨¡æ¿èµ„æºè·¯å¾„
  lang: 'cn' | 'jp' | 'en' = 'cn',        // è¯­è¨€ cnã€jpã€en
  config: object = defaultConfig,         // é…ç½®ä¿¡æ¯ã€‚åœ¨è¿™é‡ŒæŒ‡å®šä½ çš„è‡ªå®šä¹‰é…ç½®ä¿¡æ¯
  getPic: id => imgUrl,                   // æè¿°å¦‚ä½•é€šè¿‡idè·å–å¡å›¾çš„å‡½æ•°
  fontLoaded: function = defaultEvent,    // äº‹ä»¶
  imageLoaded: function = defaultEvent,
  fontsLoaded: function = defaultEvent,
  imagesLoaded: function = defaultEvent,
  picLoaded: function = defaultEvents,
  loaded: function = defaultEvent,
  recover: boolean = false,               // æ˜¯å¦ç¼“å­˜é…ç½®ä¸æ•°æ®
  holo: boolean = true,                   // æ˜¯å¦æ˜¾ç¤ºé˜²ä¼ªæ ‡å¿—
  cardbagSwitch: boolean = false,         // æ˜¯å¦æ¸²æŸ“å¡åŒ…ä¿¡æ¯
  translate: boolean = false,             // æ˜¯å¦è‡ªåŠ¨ç¹ç®€è½¬æ¢,é»˜è®¤å­—ä½“ç¹ç®€åŒä½“ï¼Œä¸éœ€è¦æ‰“å¼€
  verbose: boolean = false,               // æ˜¯å¦å¼€å¯console
})
```

<br/>

### size

å½“ä¼ å…¥çš„å€¼ä¸ºæ•°ç»„æ—¶ï¼Œcanvasä¼šä¸¥æ ¼æŒ‰ç…§è¿™ä¸ªå°ºå¯¸è¿›è¡Œç»˜åˆ¶ã€‚

```javascript
const card = new Card({ data, canvas, size = [813, 1185] })
```

ä½ ä¹Ÿå¯ä»¥ä¸ä¼ å…¥sizeï¼Œå¦‚æœautoResizeä¸ºtrueï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œé‚£ä¹ˆcard.jsä¼šè‡ªåŠ¨è®¡ç®—å°ºå¯¸ã€‚

å½“canvaså°ºå¯¸å˜åŒ–æ—¶ï¼Œcard.jsä¼šè‡ªåŠ¨é‡æ–°è¿›è¡Œç»˜åˆ¶ï¼Œä¿è¯å¡å›¾æ°¸è¿œé«˜æ¸…ï¼Œè¿™åœ¨å¼¹æ€§å¸ƒå±€ä¸­ååˆ†æœ‰ç”¨ã€‚

```html
<style>
#card {
  width: 80%;
}
</style>

<canvas id="card"></canvas>
```

```javascript
// autoResizeé»˜è®¤å¼€å¯
const card = new Card({ data, canvas, autoResize: true })
```

<br/>

## ç”Ÿå‘½å‘¨æœŸ

é€šè¿‡ä¼ å…¥äº‹ä»¶æ¥è‡ªå®šä¹‰å¡ç‰‡æ¸²æŸ“çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ã€‚

### fontLoaded

å•ä¸ªå­—ä½“æ–‡ä»¶åŠ è½½å®Œæˆã€‚

```javascript
card.fontLoaded = function(e) {
  console.log(e);
}
 ```
 
### fontsLoaded

æ‰€æœ‰å­—ä½“æ–‡ä»¶åŠ è½½å®Œæˆã€‚

### imageLoaded

å•ä¸ªå›¾ç‰‡èµ„æºåŠ è½½å®Œæˆã€‚

### imagesLoaded

å•ä¸ªå›¾ç‰‡èµ„æºåŠ è½½å®Œæˆã€‚

### picLoaded

ä¸­é—´å¡å›¾åŠ è½½å®Œæˆã€‚

### loaded

å¡ç‰‡æ¸²æŸ“å®Œæ¯•ã€‚

<br/>
 
## config

æ›´æ”¹configæ–‡ä»¶ï¼Œå¯ä»¥è‡ªç”±åœ°è°ƒæ•´å¡ç‰‡çš„æ ·å¼ï¼Œæ¯”å¦‚å­—ä½“å¤§å°ã€é¢œè‰²ç­‰ã€‚

[å…·ä½“é…ç½®è¯·å‚è€ƒ`config/defaultConfig.js`](https://gitee.com/ymssx/cardjs/tree/master/source/config)

ä½ å¯ä»¥é€šè¿‡ä¼ é€’ä¸€ä¸ªé…ç½®å¯¹è±¡æ¥ä¸´æ—¶æ”¹å˜é…ç½®ä¿¡æ¯

```javascript
card.changeConfig(config);
```

<br/>

## API

### Card.render

```javascript
await card.render();
```

åˆå§‹æ¸²æŸ“ï¼Œè¿”å›ä¸€ä¸ªpromiseå¯¹è±¡ï¼Œå½“ç»˜åˆ¶å®Œæ¯•æ—¶å˜ä¸ºfulfilledçŠ¶æ€ã€‚

### Card.feed

ä½ å¯ä»¥è‡ªç”±çš„ä½¿ç”¨ä¸æ›´æ¢è‡ªå®šä¹‰çš„ä¸­é—´å¡å›¾ã€‚

æ¯”å¦‚å½“ä½ æƒ³æŠŠã€çœŸçº¢çœ¼é»‘é¾™ã€‘çš„å¡å›¾æ¢æˆã€é’çœ¼ç™½é¾™ã€‘ã€‚
```javascript
const pic = document.getElementById('blueEyes');
card.feed(pic);
```

### Card.changeConfig

```javascript
card.changeConfig(config);
```

### Card.feedData

è°ƒæ•´å¡ç‰‡ä¿¡æ¯ã€‚

```javascript
card.feedData(data);
```

æˆ–è€…ç›´æ¥
```javascript
card.data.name = 'Blue Eyes';
```

### Card.save

ä¿å­˜å¡å›¾åˆ°æœ¬åœ°ï¼Œä½ å¯ä»¥æŒ‡å®šä¿å­˜æ—¶**æ–‡ä»¶åç§°**å’Œ**å›¾ç‰‡å°ºå¯¸**ã€‚
```javascript
card.save('é’çœ¼ç™½é¾™', [1626, 2370]);
```
ä¹Ÿå¯ä»¥ä¸æŒ‡å®šå‚æ•°ï¼Œcard.jsä¼šè‡ªåŠ¨ä½¿ç”¨å¡åä½œä¸ºæ–‡ä»¶åï¼Œå°ºå¯¸ä¼šä½¿ç”¨é»˜è®¤å€¼1626 Ã— 2370ã€‚

### Card.feedFlash

ä½¿ç”¨é¢é—ªæ•ˆæœã€‚ä¼ å…¥ä¸€å¼ é—ªé¢å¡å›¾ï¼Œå¹¶ä¸”è°ƒæ•´`card.data.flash`çš„å€¼ï¼ˆ0 ~ 1ï¼‰ï¼Œå¡å›¾ä¼šå‘ˆç°ä¸åŒå¼ºåº¦çš„é¢é—ªæ•ˆæœã€‚

å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸­é—´å¡å›¾åœ¨è¢«æ›´æ¢ä¹‹åä¼šè‡ªåŠ¨æ¸…é™¤æ‰€æœ‰çš„é—ªé¢å›¾è®¾ç½®ã€‚ä½ æœ€å¥½åœ¨`picLoaded`äº‹ä»¶ä¸­ä½¿ç”¨è¿™ä¸ªapiï¼Œå¦åˆ™é—ªé¢æ•ˆæœå¯èƒ½æ— æ³•æ˜¾ç¤ºã€‚

```js
const card = new Card({
  picLoaded() {
    card.feedFlash(document.getElementById('flashImg'));
    card.data.flash = 0.5;
  },
})
```

<br/>

## é™æ€æ–¹æ³•

ä»¥ä¸‹æ˜¯Cardç±»çš„æ–¹æ³•ï¼Œè¯·ä¸è¦åœ¨å®ä¾‹å¯¹è±¡ä¸Šä½¿ç”¨ã€‚

### Card.complex

å°†ç®€ä½“å­—æ–‡æœ¬è½¬æ¢ä¸ºç¹ä½“å­—æ–‡æœ¬ã€‚

```javascript
const complexText = Card.complex('é’çœ¼ç™½é¾™'); // é’çœ¼ç™½é¾
```

### Card.transData

card.jséœ€è¦ä½ ä»¥ç‰¹å®šçš„JSONç»“æ„æ¥æè¿°ä¸€å¼ å¡ï¼Œè§‰å¾—éº»çƒ¦ï¼Ÿæ²¡å…³ç³»ï¼Œä½¿ç”¨transDataå¯ä»¥**ç›´æ¥å…¼å®¹YGOProè‡ªå¸¦æ•°æ®åº“çš„å¡ç‰‡æ•°æ®**ã€‚

```javascript
const ygoproData = {
  "name": 'å…ƒç´ è‹±é›„ ç¾½ç¿¼ä¾ ',
  "desc": "æ‹¥æœ‰æ“çºµé£åœ¨å¤©ç©ºé£èˆä¹‹ç¿¼çš„å…ƒç´ è‹±é›„ã€‚ä»¥æ¥è‡ªå¤©ç©ºçš„ä¸€å‡»ç¾½ç¿¼å‡»ç ´æ¥å®¡åˆ¤é‚ªæ¶ã€‚",
  "id": 21844576,
  "atk": 1000,
  "def": 1000,
  "race": 1,
  "type": 17,
  "level": 3,
  "attribute": 8
}
// æ¥è‡ªYGOProçš„æ•°æ®ï¼Œç›´æ¥ä¼ å…¥card.jsä¼šæŠ¥é”™
const newData = Card.transData(ygoproData);
console.log(newData);
```

è¾“å‡º

```javascript
{
  name: 'å…ƒç´ è‹±é›„ ç¾½ç¿¼ä¾ ',
  desc: 'æ‹¥æœ‰æ“çºµé£åœ¨å¤©ç©ºé£èˆä¹‹ç¿¼çš„å…ƒç´ è‹±é›„ã€‚ä»¥æ¥è‡ªå¤©ç©ºçš„ä¸€å‡»ç¾½ç¿¼å‡»ç ´æ¥å®¡åˆ¤é‚ªæ¶ã€‚',
  _id: '21844576',
  attack: 1000,
  defend: 1000,
  race: 'æˆ˜å£«æ—',
  type: 'monster',
  type2: 'tc',
  type3: '',
  type4: '',
  level: 3,
  attribute: 'wind'
}
// å¯ä»¥è¢«card.jsç†è§£çš„æ•°æ®å¯¹è±¡ç»“æ„
```

<br/>

## å®ç°æ–¹å¼

Card.js

* cardData.js 

ç®¡ç†å¡ç‰‡æ•°æ®ï¼Œç›‘å¬æ•°æ®å˜åŠ¨ï¼Œå½“æ•°æ®æ›´æ–°ä¹‹åï¼ŒcardDataä¼šè‡ªåŠ¨åˆ†æéœ€è¦æ›´æ–°å“ªäº›æ–‡ä»¶ï¼Œç„¶åå‘ŠçŸ¥cardFile

* cardFile.js

ç®¡ç†æ–‡ä»¶çš„æ›´æ–°ä¸ç¼“å­˜ï¼Œå½“æ”¶åˆ°cardDataçš„æ›´æ–°è¯·æ±‚åï¼Œä¼šè‡ªåŠ¨ä»ç¼“å­˜æˆ–è€…ç½‘ç»œè°ƒç”¨å›¾ç‰‡ï¼Œåœ¨æ–‡ä»¶æ›´æ–°ä¹‹åä¼šè‡ªåŠ¨å‘ŠçŸ¥cardDrawer

* cardDrawer.js

ç®¡ç†ç»˜å›¾åŠŸèƒ½ï¼Œåœ¨æ”¶åˆ°cardFileçš„ç»˜å›¾è¯·æ±‚åï¼Œä¼šæŒ‰ç…§cardDataçš„æ•°æ®ä»¥åŠcardFileæä¾›çš„æ–‡ä»¶è¿›è¡Œç»˜å›¾

<br />

## åœ¨Reactä¸­ä½¿ç”¨

```javascript
import React, { useState, useEffect, useRef } from 'react';
import { Card } from 'ygo-card';

const YgoCard = ({ data, onCreated, onLoaded }) => {
  const [cardIns, setCardIns] = useState();
  const canvas = useRef(null);

  useEffect(() => {
    const newCardIns = = new Card({
      data,
      size: [813, 1185],
      canvas: canvas.current,
      moldPath: '/mold',
      fontsLoaded: onLoaded,
    });

    setCardIns(newCardIns);

    newCard.render();

    if (onCreated instanceof Function) {
      onCreated(newCard);
    }
  }, [canvas]);

  useEffect(() => {
    cardIns?.feedData(data);
  }, [data]);

  return (
    <canvas ref={canvas} />
  );
};

// å¼•ç”¨
const BlueEyes = () => <YgoCard data={ name: 'é’çœ¼ç™½é¾™', attack: 3000 } />;
```

<br />

## åœ¨nodeä¸Šè¿›è¡ŒæœåŠ¡ç«¯æ¸²æŸ“

äº‹å®ä¸Šï¼Œå®Œå…¨åœ¨å‰ç«¯è¿›è¡Œå¡å›¾æ¸²æŸ“ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œä¸­æ–‡å­—ä½“è¿‡äºåºå¤§è€Œå¯¼è‡´ç½‘é¡µéœ€è¦é¢„å…ˆåŠ è½½å¤§é‡èµ„æºä¹‹åæ‰èƒ½æ¸²æŸ“å‡ºå¡å›¾ã€‚
æ‰€ä»¥ï¼Œcardjsç°åœ¨ä¹Ÿæ”¯æŒåœ¨nodeä¸Šè¿›è¡Œå¡å›¾æ¸²æŸ“ã€‚

### ä½¿ç”¨æ–¹å¼

å‚è€ƒ <a href="#å®‰è£…">#å®‰è£…</a>

åŒºåˆ«æ˜¯å¼•å…¥çš„æ–‡ä»¶ä¸åŒ

#### npmå®‰è£…

```js
import { CardNode, getCard } from 'ygo-card';
```

#### ä½¿ç”¨

```js
const card = await getCard(
  data, // å¡ç‰‡æ•°æ®
  {
    size: size, // å°ºå¯¸
    moldPath: '/public/mold/', // moldæ–‡ä»¶å¤¹çš„è·¯å¾„ï¼ˆé‡è¦ï¼‰
    picPath: `/public/pics/500/${id}.jpg`, // å›¾ç‰‡é›†çš„è·¯å¾„
  },
);

// getCardè¿”å›äºŒè¿›åˆ¶å›¾ç‰‡æ•°æ®
```

è¿™æ˜¯ä¸€å¼ æœåŠ¡ç«¯å®æ—¶æ¸²æŸ“çš„å¡å›¾

<img src="http://115.159.193.88:1803/cardpic?id=62015408&size=400" />